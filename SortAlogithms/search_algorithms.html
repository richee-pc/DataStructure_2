<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìë£Œêµ¬ì¡° êµìœ¡: íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .container {
            max-width: 1280px;
            margin: 0 auto;
        }
        .section {
            background-color: white;
            padding: 2.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            margin-bottom: 2.5rem;
        }
        pre {
            background-color: #1f2937;
            color: #d1d5db;
            border-radius: 0.75rem;
            padding: 1rem;
            overflow-x: auto;
        }
        code {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            max-width: 500px;
            width: 90%;
            text-align: center;
        }
        /* ì‹œë®¬ë ˆì´ì…˜ ìŠ¤íƒ€ì¼ */
        .array-container, .hash-table-container, .tree-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            flex-wrap: wrap;
            margin-top: 1rem;
            min-height: 100px; /* ì¶©ë¶„í•œ ë†’ì´ í™•ë³´ */
            position: relative;
        }
        .array-element, .hash-bucket, .tree-node {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            border: 2px solid #cbd5e0; /* Gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            margin: 0.25rem;
            font-weight: 600; /* font-semibold */
            background-color: #e2e8f0; /* Gray-200 */
            transition: background-color 0.3s ease, border-color 0.3s ease;
            position: relative;
        }
        .array-element.current-check, .tree-node.current-check {
            background-color: #a7f3d0; /* Green-200 */
            border-color: #10b981; /* Green-500 */
        }
        .array-element.found, .tree-node.found {
            background-color: #34d399; /* Green-400 */
            border-color: #059669; /* Green-700 */
        }
        .array-element.low-ptr, .array-element.high-ptr, .array-element.mid-ptr {
            background-color: #bfdbfe; /* Blue-200 */
            border-color: #3b82f6; /* Blue-500 */
        }
        .ptr-label {
            position: absolute;
            top: -20px;
            font-size: 0.75rem;
            font-weight: bold;
            color: #4a5568;
        }
        .low-label { left: 0; }
        .high-label { right: 0; }
        .mid-label { top: -30px; }

        .hash-bucket {
            width: 80px;
            height: auto; /* ë‚´ìš©ì— ë”°ë¼ ë†’ì´ ì¡°ì ˆ */
            min-height: 60px;
            justify-content: flex-start;
            padding: 0.5rem;
        }
        .hash-bucket-index {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75rem;
            font-weight: bold;
            color: #4a5568;
        }
        .hash-entry {
            background-color: #a7f3d0;
            border: 1px solid #10b981;
            padding: 0.25rem 0.5rem;
            margin-bottom: 0.25rem;
            border-radius: 0.25rem;
            width: 100%;
            text-align: center;
            word-break: break-all; /* ê¸´ ë¬¸ìì—´ ì²˜ë¦¬ */
        }
        .hash-entry.probing {
            background-color: #fcd34d; /* Yellow-300 */
            border-color: #fbbf24; /* Yellow-400 */
        }
        .hash-entry.inserted {
            background-color: #34d399; /* Green-400 */
            border-color: #059669; /* Green-700 */
        }
        .hash-bucket.highlighted {
            background-color: #bfdbfe; /* Blue-200 */
            border-color: #3b82f6; /* Blue-500 */
        }
        .chain-node {
            background-color: #d1e7dd; /* Light green */
            border: 1px solid #28a745; /* Green */
            padding: 0.25rem 0.5rem;
            margin-bottom: 0.25rem;
            border-radius: 0.25rem;
            width: 100%;
            text-align: center;
        }
        .chain-node.current-insert {
             background-color: #fcd34d; /* Yellow-300 */
             border-color: #fbbf24; /* Yellow-400 */
        }
        .index-block {
            background-color: #d1e7dd;
            border: 1px solid #28a745;
            padding: 0.5rem;
            margin: 0.5rem;
            border-radius: 0.5rem;
            font-weight: bold;
        }
        .index-block.highlighted {
            background-color: #bfdbfe; /* Blue-200 */
            border-color: #3b82f6; /* Blue-500 */
        }
        .index-pointer {
            font-size: 0.8rem;
            color: #6b7280;
        }

        /* íŠ¸ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ìŠ¤íƒ€ì¼ */
        .tree-simulation-container { /* New container for AVL tree specific section layout */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .tree-display-area { /* This will hold the actual nodes */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            width: 100%; /* Ensure it takes full width */
        }
        .tree-node-wrapper {
            display: flex;
            justify-content: center;
            position: relative;
            width: 100%;
        }
        .tree-node {
            width: 50px;
            height: 50px;
            border-radius: 50%; /* Make it round */
            background-color: #e2e8f0;
            border: 2px solid #cbd5e0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 10px;
            position: relative;
            z-index: 10;
        }
        .tree-node.highlighted-path {
            background-color: #bfdbfe; /* Blue-200 */
            border-color: #3b82f6; /* Blue-500 */
        }
        .tree-node.found-node {
            background-color: #34d399; /* Green-400 */
            border-color: #059669; /* Green-700 */
        }
        .tree-line {
            position: absolute;
            background-color: #9ca3af;
            height: 2px;
            transform-origin: 0 0;
            z-index: 5;
        }
        
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            p { font-size: 1rem; }
            .section { padding: 1.5rem; }
            .array-element, .hash-bucket {
                width: 50px;
                height: 50px;
                font-size: 0.875rem;
            }
            .tree-node {
                width: 40px;
                height: 40px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body class="p-6 md:p-10">

<div class="container">

    <!-- ì œëª© ë° ê°œìš” ì„¹ì…˜ -->
    <header class="text-center mb-16">
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4">íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ ğŸ”</h1>
        <p class="text-lg md:text-xl text-gray-600 max-w-2xl mx-auto">
            ìë£Œêµ¬ì¡°ì˜ í•µì‹¬ì¸ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì„ ê¹Šì´ ìˆê²Œ ì´í•´í•˜ê³ , ì‹¤ì œ ì½”ë“œë¡œ êµ¬í˜„í•´ë³´ëŠ” êµìœ¡ìš© ì›¹ í˜ì´ì§€ì…ë‹ˆë‹¤. ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì°¾ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì„ ì•Œì•„ë´…ì‹œë‹¤.
        </p>
    </header>

    <!-- ê° ì•Œê³ ë¦¬ì¦˜ ì„¹ì…˜ ì»¨í…Œì´ë„ˆ -->
    <main class="grid grid-cols-1 lg:grid-cols-2 gap-8">

        <!-- ìˆœì°¨ íƒìƒ‰ (Linear Search) -->
        <section class="section">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="mr-2 text-4xl">ğŸš¶</span> ìˆœì°¨ íƒìƒ‰ (Linear Search)
            </h2>
            <p class="text-gray-600 mb-4">
                <span class="font-semibold text-gray-800">ê°œë…:</span> ê°€ì¥ ê¸°ë³¸ì ì¸ íƒìƒ‰ ë°©ë²•ìœ¼ë¡œ, ë°°ì—´ì˜ ì²« ë²ˆì§¸ ìš”ì†Œë¶€í„° ìˆœì„œëŒ€ë¡œ ì°¾ê³ ì í•˜ëŠ” ê°’ê³¼ ë¹„êµí•©ë‹ˆë‹¤.
            </p>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">ë™ì‘ ë°©ì‹ (ì‹œë®¬ë ˆì´ì…˜):</p>
                <p class="text-gray-600 mb-2">
                    ì•„ë˜ ë°°ì—´ì—ì„œ ê°’ì„ ì…ë ¥í•˜ê³  'íƒìƒ‰ ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. ê° ë‹¨ê³„ë³„ë¡œ í˜„ì¬ ë¹„êµí•˜ëŠ” ìš”ì†Œê°€ í•˜ì´ë¼ì´íŠ¸ë©ë‹ˆë‹¤.
                </p>
                <div class="linear-search-simulation">
                    <div class="array-container" id="linearArrayContainer">
                        <!-- JSë¡œ ë°°ì—´ ìš”ì†Œ ìƒì„± -->
                    </div>
                    <div id="linearSimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                    <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                        <input type="text" id="linearSearchTargetInput" placeholder="ì°¾ì„ ê°’ ì…ë ¥ (ì˜ˆ: 15)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button onclick="startLinearSearchSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">íƒìƒ‰ ì‹œì‘</button>
                    </div>
                    <div class="mt-4 flex justify-center">
                        <button onclick="prevLinearStep()" id="linearPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                        <button onclick="nextLinearStep()" id="linearNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4 text-gray-600">
                <div><span class="font-semibold text-gray-800">ì‹œê°„ ë³µì¡ë„:</span> ìµœì„  O(1), í‰ê·  O(n), ìµœì•… O(n)</div>
                <div><span class="font-semibold text-gray-800">ì¥ì :</span> ë°ì´í„°ê°€ ì •ë ¬ë˜ì–´ ìˆì§€ ì•Šì•„ë„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. êµ¬í˜„ì´ ê°„ë‹¨í•©ë‹ˆë‹¤.</div>
                <div><span class="font-semibold text-gray-800">ë‹¨ì :</span> ë°ì´í„°ê°€ ë§ì„ìˆ˜ë¡ ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤.</div>
            </div>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">C ì–¸ì–´ ì½”ë“œ ì˜ˆì‹œ:</p>
                <pre><code id="linearSearchCode">/* ìˆœì°¨ íƒìƒ‰ C ì–¸ì–´ êµ¬í˜„ */
#include &lt;stdio.h&gt;

// ë°°ì—´ ì •ì˜ (ì˜ˆì‹œ)
int list[] = {10, 5, 20, 15, 30, 25};
int n = sizeof(list) / sizeof(list[0]); // ë°°ì—´ì˜ í¬ê¸°

int linear_search(int key) {
    for (int i = 0; i < n; i++) {
        if (list[i] == key) {
            return i; // íƒìƒ‰ ì„±ê³µ: í•´ë‹¹ ì¸ë±ìŠ¤ ë°˜í™˜
        }
    }
    return -1; // íƒìƒ‰ ì‹¤íŒ¨: -1 ë°˜í™˜
}

int main() {
    int target_value = 20;
    int result_index = linear_search(target_value);

    if (result_index != -1) {
        printf("ëª©í‘œê°’ %dëŠ”(ì€) ì¸ë±ìŠ¤ %dì—ì„œ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n", target_value, result_index);
    } else {
        printf("ëª©í‘œê°’ %dë¥¼(ì„) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n", target_value);
    }

    target_value = 7;
    result_index = linear_search(target_value);

    if (result_index != -1) {
        printf("ëª©í‘œê°’ %dëŠ”(ì€) ì¸ë±ìŠ¤ %dì—ì„œ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n", target_value, result_index);
    } else {
        printf("ëª©í‘œê°’ %dë¥¼(ì„) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n", target_value);
    }

    return 0;
}</code></pre>
            </div>
            <div class="mt-6 text-center text-gray-500">
                C ì–¸ì–´ ì½”ë“œëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê°œë°œ í™˜ê²½ì—ì„œ ì»´íŒŒì¼í•˜ì—¬ ì‹¤í–‰í•´ ë³´ì„¸ìš”.
            </div>
        </section>

        <!-- ì´ì§„ íƒìƒ‰ (Binary Search) -->
        <section class="section">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="mr-2 text-4xl">ğŸ”ª</span> ì´ì§„ íƒìƒ‰ (Binary Search)
            </h2>
            <p class="text-gray-600 mb-4">
                <span class="font-semibold text-gray-800">ê°œë…:</span> <strong>ì •ë ¬ëœ ë°°ì—´</strong>ì—ì„œ íƒìƒ‰ ë²”ìœ„ë¥¼ ì ˆë°˜ì”© ì¤„ì—¬ê°€ë©° ê°’ì„ ì°¾ëŠ” ë§¤ìš° íš¨ìœ¨ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.
            </p>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">ë™ì‘ ë°©ì‹ (ì‹œë®¬ë ˆì´ì…˜):</p>
                <p class="text-gray-600 mb-2">
                    ì•„ë˜ <strong>ì •ë ¬ëœ</strong> ë°°ì—´ì—ì„œ ê°’ì„ ì…ë ¥í•˜ê³  'íƒìƒ‰ ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. 'low', 'high', 'mid' í¬ì¸í„°ì˜ ë³€í™”ë¥¼ í™•ì¸í•˜ë©° íƒìƒ‰ ë²”ìœ„ê°€ ì¤„ì–´ë“œëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                <div class="binary-search-simulation">
                    <div class="array-container" id="binaryArrayContainer">
                        <!-- JSë¡œ ë°°ì—´ ìš”ì†Œ ìƒì„± -->
                    </div>
                    <div id="binarySimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                    <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                        <input type="text" id="binarySearchTargetInput" placeholder="ì°¾ì„ ê°’ ì…ë ¥ (ì˜ˆ: 23)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button onclick="startBinarySearchSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">íƒìƒ‰ ì‹œì‘</button>
                    </div>
                    <div class="mt-4 flex justify-center">
                        <button onclick="prevBinaryStep()" id="binaryPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                        <button onclick="nextBinaryStep()" id="binaryNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4 text-gray-600">
                <div><span class="font-semibold text-gray-800">ì‹œê°„ ë³µì¡ë„:</span> ìµœì„  O(1), í‰ê·  O(log n), ìµœì•… O(log n)</div>
                <div><span class="font-semibold text-gray-800">ì¥ì :</span> ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ì—ì„œ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤.</div>
                <div><span class="font-semibold text-gray-800">ë‹¨ì :</span> ë°ì´í„°ê°€ ë°˜ë“œì‹œ ì •ë ¬ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</div>
            </div>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">C ì–¸ì–´ ì½”ë“œ ì˜ˆì‹œ:</p>
                <pre><code id="binarySearchCode">/* ì´ì§„ íƒìƒ‰ C ì–¸ì–´ êµ¬í˜„ (ë°˜ë³µë¬¸) */
#include &lt;stdio.h&gt;

// ë°°ì—´ ì •ì˜ (ì˜ˆì‹œ, ë°˜ë“œì‹œ ì •ë ¬ë˜ì–´ ìˆì–´ì•¼ í•¨)
int sorted_list[] = {2, 5, 8, 12, 16, 23, 38, 56, 72, 91};
int sorted_n = sizeof(sorted_list) / sizeof(sorted_list[0]); // ë°°ì—´ì˜ í¬ê¸°

int binary_search(int key) {
    int low = 0;
    int high = sorted_n - 1;
    int mid;

    while (low <= high) {
        mid = low + (high - low) / 2; // ì˜¤ë²„í”Œë¡œìš° ë°©ì§€ë¥¼ ìœ„í•œ ê³„ì‚°

        if (sorted_list[mid] == key) {
            return mid; // íƒìƒ‰ ì„±ê³µ
        } else if (sorted_list[mid] < key) {
            low = mid + 1; // ì˜¤ë¥¸ìª½ ë¶€ë¶„ íƒìƒ‰
        } else {
            high = mid - 1; // ì™¼ìª½ ë¶€ë¶„ íƒìƒ‰
        }
    }
    return -1; // íƒìƒ‰ ì‹¤íŒ¨
}

int main() {
    int target_value_binary = 23;
    int result_index_binary = binary_search(target_value_binary);

    if (result_index_binary != -1) {
        printf("ëª©í‘œê°’ %dëŠ”(ì€) ì¸ë±ìŠ¤ %dì—ì„œ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n", target_value_binary, result_index_binary);
    } else {
        printf("ëª©í‘œê°’ %dë¥¼(ì„) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n", target_value_binary);
    }

    target_value_binary = 100;
    result_index_binary = binary_search(target_value_binary);

    if (result_index_binary != -1) {
        printf("ëª©í‘œê°’ %dëŠ”(ì€) ì¸ë±ìŠ¤ %dì—ì„œ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n", target_value_binary, result_index_binary);
    } else {
        printf("ëª©í‘œê°’ %dë¥¼(ì„) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n", target_value_binary);
    }

    return 0;
}</code></pre>
            </div>
            <div class="mt-6 text-center text-gray-500">
                C ì–¸ì–´ ì½”ë“œëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê°œë°œ í™˜ê²½ì—ì„œ ì»´íŒŒì¼í•˜ì—¬ ì‹¤í–‰í•´ ë³´ì„¸ìš”.
            </div>
        </section>

        <!-- ìƒ‰ì¸ ìˆœì°¨ íƒìƒ‰ (Index Sequential Search) -->
        <section class="section">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="mr-2 text-4xl">ğŸ“š</span> ìƒ‰ì¸ ìˆœì°¨ íƒìƒ‰ (Index Sequential Search)
            </h2>
            <p class="text-gray-600 mb-4">
                <span class="font-semibold text-gray-800">ê°œë…:</span> ìˆœì°¨ íƒìƒ‰ê³¼ ì´ì§„ íƒìƒ‰ì˜ ì¥ì ì„ ê²°í•©í•œ ë°©ë²•ì…ë‹ˆë‹¤. ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ê°œì˜ ë¸”ë¡ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ê° ë¸”ë¡ì˜ ì‹œì‘ì ì„ ê°€ë¦¬í‚¤ëŠ” ë³„ë„ì˜ <strong>ìƒ‰ì¸ í…Œì´ë¸”(Index Table)</strong>ì„ ì‚¬ìš©í•˜ì—¬ íƒìƒ‰ íš¨ìœ¨ì„ ë†’ì…ë‹ˆë‹¤.
            </p>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">ë™ì‘ ë°©ì‹ (ì‹œë®¬ë ˆì´ì…˜):</p>
                <p class="text-gray-600 mb-2">
                    ì•„ë˜ ë°°ì—´ì—ì„œ ê°’ì„ ì…ë ¥í•˜ê³  'íƒìƒ‰ ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. ë¨¼ì € ìƒ‰ì¸ í…Œì´ë¸”ì„ í†µí•´ ì ì ˆí•œ ë¸”ë¡ì„ ì°¾ê³ , ê·¸ ì•ˆì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.
                </p>
                <div class="index-sequential-simulation">
                    <div class="array-container" id="indexSeqArrayContainer">
                        <!-- JSë¡œ ë°°ì—´ ìš”ì†Œ ìƒì„± -->
                    </div>
                    <div class="index-table-container mt-4 flex justify-center flex-wrap" id="indexTableContainer">
                        <!-- JSë¡œ ì¸ë±ìŠ¤ í…Œì´ë¸” ìƒì„± -->
                    </div>
                    <div id="indexSeqSimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                    <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                        <input type="text" id="indexSeqSearchTargetInput" placeholder="ì°¾ì„ ê°’ ì…ë ¥ (ì˜ˆ: 22)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button onclick="startIndexSeqSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">íƒìƒ‰ ì‹œì‘</button>
                    </div>
                    <div class="mt-4 flex justify-center">
                        <button onclick="prevIndexSeqStep()" id="indexSeqPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                        <button onclick="nextIndexSeqStep()" id="indexSeqNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4 text-gray-600">
                <div><span class="font-semibold text-gray-800">ì‹œê°„ ë³µì¡ë„:</span> O(sqrt(n)) ë˜ëŠ” O(n/m + m) (m: ë¸”ë¡ í¬ê¸°)</div>
                <div><span class="font-semibold text-gray-800">ì¥ì :</span> ëŒ€ê·œëª¨ ì •ë ¬ëœ ë°ì´í„°ì— íš¨ìœ¨ì ì…ë‹ˆë‹¤.</div>
                <div><span class="font-semibold text-gray-800">ë‹¨ì :</span> ë°ì´í„° ì •ë ¬ì´ í•„ìˆ˜ì´ë©°, ë¸”ë¡ í¬ê¸° ì„¤ì •ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</div>
            </div>
        </section>

        <!-- ë³´ê°„ íƒìƒ‰ (Interpolation Search) -->
        <section class="section">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="mr-2 text-4xl">ğŸ¯</span> ë³´ê°„ íƒìƒ‰ (Interpolation Search)
            </h2>
            <p class="text-gray-600 mb-4">
                <span class="font-semibold text-gray-800">ê°œë…:</span> <strong>ì •ë ¬ëœ ë°°ì—´</strong>ì—ì„œ ì´ì§„ íƒìƒ‰ë³´ë‹¤ ë°œì „ëœ í˜•íƒœë¡œ, í‚¤ ê°’ì˜ ë¶„í¬ë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ìŒ íƒìƒ‰ ìœ„ì¹˜ë¥¼ ì˜ˆì¸¡í•©ë‹ˆë‹¤. ì£¼ë¡œ ë°ì´í„°ê°€ ê· ë“±í•˜ê²Œ ë¶„í¬ë˜ì–´ ìˆì„ ë•Œ ì´ì§„ íƒìƒ‰ë³´ë‹¤ ë¹ ë¦…ë‹ˆë‹¤.
            </p>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">ë™ì‘ ë°©ì‹ (ì‹œë®¬ë ˆì´ì…˜):</p>
                <p class="text-gray-600 mb-2">
                    ì•„ë˜ <strong>ì •ë ¬ëœ</strong> ë°°ì—´ì—ì„œ ê°’ì„ ì…ë ¥í•˜ê³  'íƒìƒ‰ ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. 'low', 'high'ì™€ ì˜ˆì¸¡ëœ 'pos'ì˜ ë³€í™”ë¥¼ í™•ì¸í•˜ë©° íƒìƒ‰í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                <div class="interpolation-search-simulation">
                    <div class="array-container" id="interpolationArrayContainer">
                        <!-- JSë¡œ ë°°ì—´ ìš”ì†Œ ìƒì„± -->
                    </div>
                    <div id="interpolationSimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                    <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                        <input type="text" id="interpolationSearchTargetInput" placeholder="ì°¾ì„ ê°’ ì…ë ¥ (ì˜ˆ: 50)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button onclick="startInterpolationSearchSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">íƒìƒ‰ ì‹œì‘</button>
                    </div>
                    <div class="mt-4 flex justify-center">
                        <button onclick="prevInterpolationStep()" id="interpolationPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                        <button onclick="nextInterpolationStep()" id="interpolationNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4 text-gray-600">
                <div><span class="font-semibold text-gray-800">ì‹œê°„ ë³µì¡ë„:</span> í‰ê·  O(log(log n)), ìµœì•… O(n)</div>
                <div><span class="font-semibold text-gray-800">ì¥ì :</span> ë°ì´í„°ê°€ ê· ë“± ë¶„í¬ì¼ ë•Œ ì´ì§„ íƒìƒ‰ë³´ë‹¤ ë¹ ë¦…ë‹ˆë‹¤.</div>
                <div><span class="font-semibold text-gray-800">ë‹¨ì :</span> ë°ì´í„°ê°€ ê· ë“± ë¶„í¬ê°€ ì•„ë‹ ë•Œ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
            </div>
        </section>

        <!-- ê· í˜• ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ (Balanced Binary Search Tree - AVL íŠ¸ë¦¬ ì˜ˆì‹œ) -->
        <section class="section">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="mr-2 text-4xl">ğŸŒ²</span> ê· í˜• ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ (AVL íŠ¸ë¦¬ ì˜ˆì‹œ)
            </h2>
            <p class="text-gray-600 mb-4">
                <span class="font-semibold text-gray-800">ê°œë…:</span> ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ëŠ” ì‚½ì… ìˆœì„œì— ë”°ë¼ íŠ¸ë¦¬ì˜ ê· í˜•ì´ ê¹¨ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ìµœì•…ì˜ ê²½ìš° ì„ í˜• íƒìƒ‰ê³¼ ê°™ì€ ì„±ëŠ¥(O(n))ì„ ì•¼ê¸°í•©ë‹ˆë‹¤. <strong>ê· í˜• ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬(ì˜ˆ: AVL íŠ¸ë¦¬, Red-Black íŠ¸ë¦¬)</strong>ëŠ” ë…¸ë“œ ì‚½ì… ë° ì‚­ì œ ì‹œ ìë™ìœ¼ë¡œ íŠ¸ë¦¬ì˜ ê· í˜•ì„ ìœ ì§€í•˜ì—¬ í•­ìƒ O(log n)ì˜ íƒìƒ‰ ì„±ëŠ¥ì„ ë³´ì¥í•©ë‹ˆë‹¤.
            </p>
            <div class="mb-4 tree-simulation-container"> <!-- New container for AVL tree specific section layout -->
                <p class="font-semibold text-gray-800">ë™ì‘ ë°©ì‹ (ì‹œë®¬ë ˆì´ì…˜):</p>
                <p class="text-gray-600 mb-2">
                    ì•„ë˜ì˜ ë¯¸ë¦¬ ì •ì˜ëœ AVL íŠ¸ë¦¬ì—ì„œ ê°’ì„ ì…ë ¥í•˜ê³  'íƒìƒ‰ ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. ê²€ìƒ‰ ê²½ë¡œë¥¼ ë”°ë¼ê°€ë©° ë…¸ë“œê°€ í•˜ì´ë¼ì´íŠ¸ë©ë‹ˆë‹¤.
                </p>
                <div class="tree-display-area" id="avlTreeDisplayArea"> <!-- This will hold the actual nodes -->
                    <!-- JSë¡œ íŠ¸ë¦¬ ë…¸ë“œ ìƒì„± (ì˜ˆì‹œ íŠ¸ë¦¬ êµ¬ì¡°) -->
                </div>
                <div id="avlSimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                    <input type="text" id="avlSearchTargetInput" placeholder="ì°¾ì„ ê°’ ì…ë ¥ (ì˜ˆ: 60)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <button onclick="startAvlSearchSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">íƒìƒ‰ ì‹œì‘</button>
                </div>
                <div class="mt-4 flex justify-center">
                    <button onclick="prevAvlStep()" id="avlPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                    <button onclick="nextAvlStep()" id="avlNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4 text-gray-600">
                <div><span class="font-semibold text-gray-800">ì‹œê°„ ë³µì¡ë„:</span> ì‚½ì…/ì‚­ì œ/íƒìƒ‰ ëª¨ë‘ O(log n)</div>
                <div><span class="font-semibold text-gray-800">ì¥ì :</span> í•­ìƒ ê· í˜•ì„ ìœ ì§€í•˜ì—¬ ì•ˆì •ì ì¸ O(log n) ì„±ëŠ¥ì„ ë³´ì¥í•©ë‹ˆë‹¤.</div>
                <div><span class="font-semibold text-gray-800">ë‹¨ì :</span> ì‚½ì…/ì‚­ì œ ì‹œ íŠ¸ë¦¬ë¥¼ ì¬ê· í˜•í•˜ëŠ” ì¶”ê°€ì ì¸ ì—°ì‚°(íšŒì „)ì´ í•„ìš”í•˜ì—¬ êµ¬í˜„ì´ ë³µì¡í•©ë‹ˆë‹¤.</div>
            </div>
        </section>

        <!-- í•´ì‹± (Hashing) -->
        <section class="section lg:col-span-2"> <!-- ì´ ì„¹ì…˜ì€ ì „ì²´ ë„ˆë¹„ë¥¼ ì°¨ì§€í•˜ë„ë¡ ì„¤ì • -->
            <h2 class="text-3xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="mr-2 text-4xl">ğŸ”‘</span> í•´ì‹± (Hashing)
            </h2>
            <p class="text-gray-600 mb-4">
                <span class="font-semibold text-gray-800">ê°œë…:</span> í‚¤ ê°’ì— ëŒ€í•œ ì‚°ìˆ  ì—°ì‚°ì„ í†µí•´ í…Œì´ë¸”ì˜ ì£¼ì†Œë¥¼ ê³„ì‚°í•˜ì—¬ í•­ëª©ì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë°ì´í„°ì˜ ì‚½ì…, ì‚­ì œ, íƒìƒ‰ì„ ë§¤ìš° ë¹ ë¥´ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">í•´ì‹œ í•¨ìˆ˜:</p>
                <p class="text-gray-600">
                    íƒìƒ‰ í‚¤ë¥¼ ì…ë ¥ë°›ì•„ ë°ì´í„°ê°€ ì €ì¥ë  í•´ì‹œ í…Œì´ë¸”ì˜ ì£¼ì†Œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ì¢‹ì€ í•´ì‹œ í•¨ìˆ˜ëŠ” ì¶©ëŒ(Collision)ì„ ìµœì†Œí™”í•˜ê³  ì£¼ì†Œ ì˜ì—­ì— ë°ì´í„°ë¥¼ ê³ ë¥´ê²Œ ë¶„í¬ì‹œì¼œì•¼ í•©ë‹ˆë‹¤. ê³„ì‚°ì´ ë¹¨ë¼ì•¼ í•©ë‹ˆë‹¤.
                </p>
                <div class="mt-4 text-center">
                    <!-- Placeholder for Hashing Image -->
                    <p class="text-sm text-gray-500 mt-2">ê·¸ë¦¼: í•´ì‹œ í•¨ìˆ˜ ë™ì‘ ì›ë¦¬</p>
                </div>
            </div>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">í•´ì‹œ í…Œì´ë¸”:</p>
                <p class="text-gray-600">
                    í•´ì‹œ í•¨ìˆ˜ì— ì˜í•´ ê³„ì‚°ëœ ì£¼ì†Œì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê²€ìƒ‰í•˜ëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤. Mê°œì˜ ë²„í‚·(Bucket)ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, ê° ë²„í‚·ì€ í•˜ë‚˜ ì´ìƒì˜ ìŠ¬ë¡¯(Slot)ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                <div class="mt-4 text-center">
                    <!-- Placeholder for Hash Table Structure Image -->
                    <p class="text-sm text-gray-500 mt-2">ê·¸ë¦¼: í•´ì‹œ í…Œì´ë¸” êµ¬ì¡°</p>
                </div>
            </div>
            <div class="mb-4">
                <p class="font-semibold text-gray-800">ì¶©ëŒ (Collision) ë° í•´ê²°ì±… (ì‹œë®¬ë ˆì´ì…˜):</p>
                <p class="text-gray-600 mb-2">
                    ì„œë¡œ ë‹¤ë¥¸ íƒìƒ‰ í‚¤ê°€ ê°™ì€ í•´ì‹œ ì£¼ì†Œë¥¼ ê°€ì§€ëŠ” í˜„ìƒì„ <strong>ì¶©ëŒ</strong>ì´ë¼ê³  í•©ë‹ˆë‹¤. ì¶©ëŒì´ ë°œìƒí•˜ë©´ í•´ì‹œ í…Œì´ë¸”ì— í•­ëª© ì €ì¥ì´ ë¶ˆê°€ëŠ¥í•´ì§€ë¯€ë¡œ íš¨ê³¼ì ì¸ í•´ê²° ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.
                </p>
                <ul class="list-disc list-inside text-gray-600 mt-2">
                    <li>
                        <strong>ì„ í˜• ì¡°ì‚¬ë²• (Linear Probing) ì‹œë®¬ë ˆì´ì…˜:</strong>
                        <p class="text-gray-600 ml-4 mb-2">
                            í‚¤ë¥¼ ì…ë ¥í•˜ê³  'ì‚½ì… ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. ì¶©ëŒ ì‹œ ë‹¤ìŒ ë¹„ì–´ìˆëŠ” ì¹¸ì„ ì°¾ëŠ” ê³¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤. (í…Œì´ë¸” í¬ê¸°: 7)
                        </p>
                        <div class="linear-probing-simulation">
                            <div class="hash-table-container" id="linearProbingTableContainer">
                                <!-- JSë¡œ í•´ì‹œ í…Œì´ë¸” ë²„í‚· ìƒì„± -->
                            </div>
                            <div id="linearProbingSimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                            <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                                <input type="text" id="linearProbingKeyInput" placeholder="ì‚½ì…í•  í‚¤ ì…ë ¥ (ì˜ˆ: 8, 1, 9)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <button onclick="startLinearProbingSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">ì‚½ì… ì‹œì‘</button>
                            </div>
                             <div class="mt-4 flex justify-center">
                                <button onclick="prevLinearProbingStep()" id="linearProbingPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                                <button onclick="nextLinearProbingStep()" id="linearProbingNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                            </div>
                        </div>
                    </li>
                    <li class="mt-4">
                        <strong>ì´ì°¨ ì¡°ì‚¬ë²• (Quadratic Probing) ì‹œë®¬ë ˆì´ì…˜:</strong>
                        <p class="text-gray-600 ml-4 mb-2">
                            í‚¤ë¥¼ ì…ë ¥í•˜ê³  'ì‚½ì… ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. ì¶©ëŒ ì‹œ ì´ì°¨ í•¨ìˆ˜(i^2)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ìœ„ì¹˜ë¥¼ ì°¾ëŠ” ê³¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤. (í…Œì´ë¸” í¬ê¸°: 7)
                        </p>
                         <div class="quadratic-probing-simulation">
                            <div class="hash-table-container" id="quadraticProbingTableContainer">
                                <!-- JSë¡œ í•´ì‹œ í…Œì´ë¸” ë²„í‚· ìƒì„± -->
                            </div>
                            <div id="quadraticProbingSimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                            <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                                <input type="text" id="quadraticProbingKeyInput" placeholder="ì‚½ì…í•  í‚¤ ì…ë ¥ (ì˜ˆ: 8, 15, 22)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <button onclick="startQuadraticProbingSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">ì‚½ì… ì‹œì‘</button>
                            </div>
                             <div class="mt-4 flex justify-center">
                                <button onclick="prevQuadraticProbingStep()" id="quadraticProbingPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                                <button onclick="nextQuadraticProbingStep()" id="quadraticProbingNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                            </div>
                        </div>
                    </li>
                    <li class="mt-4">
                        <strong>ì´ì¤‘ í•´ì‹±ë²• (Double Hashing) ì‹œë®¬ë ˆì´ì…˜:</strong>
                        <p class="text-gray-600 ml-4 mb-2">
                            í‚¤ë¥¼ ì…ë ¥í•˜ê³  'ì‚½ì… ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. ë‘ ë²ˆì§¸ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ íƒìƒ‰ ê°„ê²©ì„ ë™ì ìœ¼ë¡œ ê²°ì •í•˜ê³  ì¶©ëŒì„ í•´ê²°í•˜ëŠ” ê³¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤. (í…Œì´ë¸” í¬ê¸°: 7)
                        </p>
                        <div class="double-hashing-simulation">
                            <div class="hash-table-container" id="doubleHashingTableContainer">
                                <!-- JSë¡œ í•´ì‹œ í…Œì´ë¸” ë²„í‚· ìƒì„± -->
                            </div>
                            <div id="doubleHashingSimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                            <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                                <input type="text" id="doubleHashingKeyInput" placeholder="ì‚½ì…í•  í‚¤ ì…ë ¥ (ì˜ˆ: 8, 1, 9)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <button onclick="startDoubleHashingSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">ì‚½ì… ì‹œì‘</button>
                            </div>
                             <div class="mt-4 flex justify-center">
                                <button onclick="prevDoubleHashingStep()" id="doubleHashingPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                                <button onclick="nextDoubleHashingStep()" id="doubleHashingNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                            </div>
                        </div>
                    </li>
                    <li class="mt-4">
                        <strong>ì²´ì´ë‹ (Chaining) ì‹œë®¬ë ˆì´ì…˜:</strong>
                        <p class="text-gray-600 ml-4 mb-2">
                            í‚¤ë¥¼ ì…ë ¥í•˜ê³  'ì‚½ì… ì‹œì‘' ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”. ê° ë²„í‚·ì˜ ì—°ê²° ë¦¬ìŠ¤íŠ¸ì— í•­ëª©ì´ ì¶”ê°€ë˜ëŠ” ëª¨ìŠµì„ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤. (í…Œì´ë¸” í¬ê¸°: 7)
                        </p>
                        <div class="chaining-simulation">
                            <div class="hash-table-container" id="chainingTableContainer">
                                <!-- JSë¡œ í•´ì‹œ í…Œì´ë¸” ë²„í‚· (ì—°ê²° ë¦¬ìŠ¤íŠ¸ í‘œí˜„) ìƒì„± -->
                            </div>
                            <div id="chainingSimulationMessage" class="text-center mt-4 font-medium text-gray-700"></div>
                            <div class="mt-6 flex flex-col sm:flex-row justify-center items-center">
                                <input type="text" id="chainingKeyInput" placeholder="ì‚½ì…í•  í‚¤ ì…ë ¥ (ì˜ˆ: 8, 1, 9)" class="border p-2 rounded-lg mr-0 sm:mr-2 mb-2 sm:mb-0 w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <button onclick="startChainingSimulation()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md w-full sm:w-auto">ì‚½ì… ì‹œì‘</button>
                            </div>
                             <div class="mt-4 flex justify-center">
                                <button onclick="prevChainingStep()" id="chainingPrevBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm mr-2" disabled>ì´ì „ ë‹¨ê³„</button>
                                <button onclick="nextChainingStep()" id="chainingNextBtn" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors duration-200 shadow-sm" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </section>

    </main>

    <!-- ìš”ì•½ ë° ê²°ë¡  ì„¹ì…˜ -->
    <section class="section">
        <h2 class="text-3xl font-bold text-gray-800 mb-4 flex items-center">
            <span class="mr-2 text-4xl">ğŸ“</span> ìš”ì•½ ë° ë¹„êµ
        </h2>
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200 shadow-sm rounded-xl overflow-hidden">
                <thead class="bg-gray-50">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            ì•Œê³ ë¦¬ì¦˜
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            ì‹œê°„ ë³µì¡ë„
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            ì‚¬ìš© ì¡°ê±´
                        </th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            ì£¼ìš” íŠ¹ì§•
                        </th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ìˆœì°¨ íƒìƒ‰</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">O(n)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ë°ì´í„° ì •ë ¬ ë¬´ê´€</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ê°€ì¥ ë‹¨ìˆœí•œ íƒìƒ‰</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ì´ì§„ íƒìƒ‰</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">O(log n)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ë°ì´í„° ì •ë ¬ í•„ìˆ˜</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ë§¤ìš° ë¹ ë¥¸ íƒìƒ‰</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ìƒ‰ì¸ ìˆœì°¨ íƒìƒ‰</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">O(sqrt(n))</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ëŒ€ê·œëª¨ ì •ë ¬ ë°ì´í„°</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ë¸”ë¡ ë‹¨ìœ„ íƒìƒ‰</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ë³´ê°„ íƒìƒ‰</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">O(log(log n)) í‰ê· </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ê· ë“± ë¶„í¬ ì •ë ¬ ë°ì´í„°</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ê°’ ë¶„í¬ ì˜ˆì¸¡</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">ê· í˜• ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">O(log n)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ë™ì  ë°ì´í„°, ì•ˆì •ì  ì„±ëŠ¥</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ìê°€ ê· í˜• ì¡°ì •</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">í•´ì‹± (ì„ í˜• ì¡°ì‚¬ë²•)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">í‰ê·  O(1), ìµœì•… O(n)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ì§ì ‘ ì£¼ì†Œ ì§€ì •</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ì¶©ëŒ ì‹œ ë‹¤ìŒ ë¹ˆ ê³µê°„</td>
                    </tr>
                     <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">í•´ì‹± (ì´ì°¨ ì¡°ì‚¬ë²•)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">í‰ê·  O(1), ìµœì•… O(n)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ì§ì ‘ ì£¼ì†Œ ì§€ì •</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ì¶©ëŒ ì‹œ i^2 ì¦ê°€</td>
                    </tr>
                     <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">í•´ì‹± (ì´ì¤‘ í•´ì‹±ë²•)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">í‰ê·  O(1), ìµœì•… O(n)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ì§ì ‘ ì£¼ì†Œ ì§€ì •</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ë‘ ë²ˆì§¸ í•´ì‹œ í•¨ìˆ˜ ì‚¬ìš©</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">í•´ì‹± (ì²´ì´ë‹)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">í‰ê·  O(1), ìµœì•… O(n)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ì§ì ‘ ì£¼ì†Œ ì§€ì •</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¡œ ì¶©ëŒ ì²˜ë¦¬</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p class="mt-8 text-gray-600 text-center">
            ê° ì•Œê³ ë¦¬ì¦˜ì€ ê³ ìœ ì˜ ì¥ë‹¨ì ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œì˜ íŠ¹ì„±ì— ë”°ë¼ ì ì ˆí•œ ê²ƒì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
        </p>
    </section>

</div>

<!-- ì»¤ìŠ¤í…€ ëª¨ë‹¬ UI -->
<div id="customModal" class="modal hidden">
    <div class="modal-content">
        <h3 id="modalTitle" class="text-2xl font-bold mb-4"></h3>
        <p id="modalMessage" class="text-gray-700 mb-6"></p>
        <button onclick="hideModal()" class="px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 shadow-md">ë‹«ê¸°</button>
    </div>
</div>

<script>
// ---------- ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ----------
function showModal(title, message) {
    const modal = document.getElementById('customModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalMessage = document.getElementById('modalMessage');

    modalTitle.textContent = title;
    modalMessage.textContent = message;
    modal.classList.remove('hidden');
}

function hideModal() {
    const modal = document.getElementById('customModal');
    modal.classList.add('hidden');
}

// ---------- ìˆœì°¨ íƒìƒ‰ ì‹œë®¬ë ˆì´ì…˜ ----------
const linearData = [9, 5, 8, 3, 7]; // ì‹œë®¬ë ˆì´ì…˜ì— ì‚¬ìš©í•  ê³ ì • ë°ì´í„°
let linearSimulationSteps = [];
let currentLinearStep = 0;

function initLinearSearchSimulation() {
    const container = document.getElementById('linearArrayContainer');
    container.innerHTML = ''; // ê¸°ì¡´ ìš”ì†Œ ì œê±°
    linearData.forEach((num, index) => {
        const element = document.createElement('div');
        element.className = 'array-element';
        element.textContent = num;
        element.dataset.index = index; // ë°ì´í„° ì¸ë±ìŠ¤ ì €ì¥
        container.appendChild(element);
    });
    document.getElementById('linearSimulationMessage').textContent = 'ìˆ«ìë¥¼ ì…ë ¥í•˜ê³  íƒìƒ‰ì„ ì‹œì‘í•˜ì„¸ìš”.';
    document.getElementById('linearPrevBtn').disabled = true;
    document.getElementById('linearNextBtn').disabled = true;
    currentLinearStep = 0;
    linearSimulationSteps = [];
}

function startLinearSearchSimulation() {
    const targetInput = document.getElementById('linearSearchTargetInput');
    const targetValue = parseInt(targetInput.value);

    if (isNaN(targetValue)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    linearSimulationSteps = [];
    currentLinearStep = 0;
    
    // ì‹œë®¬ë ˆì´ì…˜ ë‹¨ê³„ ê¸°ë¡
    for (let i = 0; i < linearData.length; i++) {
        linearSimulationSteps.push({
            index: i,
            message: `${linearData[i]}ì™€ ${targetValue} ë¹„êµ: ${linearData[i] === targetValue ? 'ê°™ìŒ!' : 'ë‹¤ë¦„.'}`,
            found: linearData[i] === targetValue
        });
        if (linearData[i] === targetValue) {
            linearSimulationSteps.push({
                index: i,
                message: `ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ì¸ë±ìŠ¤ ${i}ì—ì„œ ë°œê²¬! íƒìƒ‰ ì„±ê³µ.`,
                found: true,
                final: true
            });
            break;
        }
    }
    if (!linearSimulationSteps[linearSimulationSteps.length - 1]?.final) {
        linearSimulationSteps.push({
            index: -1, // ì°¾ì§€ ëª»í•¨
            message: `ë°°ì—´ ëê¹Œì§€ íƒìƒ‰í–ˆì§€ë§Œ ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. íƒìƒ‰ ì‹¤íŒ¨.`,
            found: false,
            final: true
        });
    }

    renderLinearSearchStep(currentLinearStep);
    document.getElementById('linearPrevBtn').disabled = true;
    document.getElementById('linearNextBtn').disabled = linearSimulationSteps.length <= 1;
}

function renderLinearSearchStep(step) {
    const elements = document.querySelectorAll('#linearArrayContainer .array-element');
    elements.forEach(el => {
        el.classList.remove('current-check', 'found');
    });

    if (linearSimulationSteps.length === 0) return;

    const currentStepData = linearSimulationSteps[step];
    const messageDiv = document.getElementById('linearSimulationMessage');
    messageDiv.textContent = currentStepData.message;

    if (currentStepData.index !== -1) {
        const currentElement = elements[currentStepData.index];
        if (currentElement) {
            if (currentStepData.found) {
                currentElement.classList.add('found');
            } else {
                currentElement.classList.add('current-check');
            }
        }
    }

    document.getElementById('linearPrevBtn').disabled = currentLinearStep === 0;
    document.getElementById('linearNextBtn').disabled = currentLinearStep === linearSimulationSteps.length - 1;
}

function nextLinearStep() {
    if (currentLinearStep < linearSimulationSteps.length - 1) {
        currentLinearStep++;
        renderLinearSearchStep(currentLinearStep);
    }
}

function prevLinearStep() {
    if (currentLinearStep > 0) {
        currentLinearStep--;
        renderLinearSearchStep(currentLinearStep);
    }
}

// ---------- ì´ì§„ íƒìƒ‰ ì‹œë®¬ë ˆì´ì…˜ ----------
const binaryData = [2, 5, 8, 12, 16, 23, 38, 56, 72, 91]; // ì‹œë®¬ë ˆì´ì…˜ì— ì‚¬ìš©í•  ì •ë ¬ëœ ë°ì´í„°
let binarySimulationSteps = [];
let currentBinaryStep = 0;

function initBinarySearchSimulation() {
    const container = document.getElementById('binaryArrayContainer');
    container.innerHTML = '';
    binaryData.forEach((num, index) => {
        const element = document.createElement('div');
        element.className = 'array-element';
        element.textContent = num;
        element.dataset.index = index;
        container.appendChild(element);
    });
    document.getElementById('binarySimulationMessage').textContent = 'ìˆ«ìë¥¼ ì…ë ¥í•˜ê³  íƒìƒ‰ì„ ì‹œì‘í•˜ì„¸ìš”.';
    document.getElementById('binaryPrevBtn').disabled = true;
    document.getElementById('binaryNextBtn').disabled = true;
    currentBinaryStep = 0;
    binarySimulationSteps = [];
}

function startBinarySearchSimulation() {
    const targetInput = document.getElementById('binarySearchTargetInput');
    const targetValue = parseInt(targetInput.value);

    if (isNaN(targetValue)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    binarySimulationSteps = [];
    currentBinaryStep = 0;

    let low = 0;
    let high = binaryData.length - 1;

    while (low <= high) {
        const mid = Math.floor((low + high) / 2);
        binarySimulationSteps.push({
            low: low,
            high: high,
            mid: mid,
            message: `${binaryData[mid]}ì™€ ${targetValue} ë¹„êµ: ${binaryData[mid] === targetValue ? 'ê°™ìŒ!' : (binaryData[mid] < targetValue ? 'ì‘ìŒ. ì˜¤ë¥¸ìª½ íƒìƒ‰.' : 'í¼. ì™¼ìª½ íƒìƒ‰.')}`,
            found: binaryData[mid] === targetValue
        });

        if (binaryData[mid] === targetValue) {
            binarySimulationSteps.push({
                low: low,
                high: high,
                mid: mid,
                message: `ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ì¸ë±ìŠ¤ ${mid}ì—ì„œ ë°œê²¬! íƒìƒ‰ ì„±ê³µ.`,
                found: true,
                final: true
            });
            break;
        } else if (binaryData[mid] < targetValue) {
            low = mid + 1;
        } else {
            high = mid - 1;
        }
    }
    if (!binarySimulationSteps[binarySimulationSteps.length - 1]?.final) {
        binarySimulationSteps.push({
            low: -1, // ì°¾ì§€ ëª»í•¨
            high: -1,
            mid: -1,
            message: `ë°°ì—´ì— ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. íƒìƒ‰ ì‹¤íŒ¨.`,
            found: false,
            final: true
        });
    }

    renderBinarySearchStep(currentBinaryStep);
    document.getElementById('binaryPrevBtn').disabled = true;
    document.getElementById('binaryNextBtn').disabled = binarySimulationSteps.length <= 1;
}

function renderBinarySearchStep(step) {
    const elements = document.querySelectorAll('#binaryArrayContainer .array-element');
    elements.forEach(el => {
        el.classList.remove('low-ptr', 'high-ptr', 'mid-ptr', 'current-check', 'found');
        el.querySelectorAll('.ptr-label').forEach(label => label.remove()); // ê¸°ì¡´ í¬ì¸í„° ë ˆì´ë¸” ì œê±°
    });

    if (binarySimulationSteps.length === 0) return;

    const currentStepData = binarySimulationSteps[step];
    const messageDiv = document.getElementById('binarySimulationMessage');
    messageDiv.textContent = currentStepData.message;

    if (currentStepData.low !== -1) {
        if (elements[currentStepData.low]) {
            elements[currentStepData.low].classList.add('low-ptr');
            const label = document.createElement('span');
            label.className = 'ptr-label low-label';
            label.textContent = 'Low';
            elements[currentStepData.low].appendChild(label);
        }
        if (elements[currentStepData.high]) {
            elements[currentStepData.high].classList.add('high-ptr');
            const label = document.createElement('span');
            label.className = 'ptr-label high-label';
            label.textContent = 'High';
            elements[currentStepData.high].appendChild(label);
        }
        if (elements[currentStepData.mid]) {
            elements[currentStepData.mid].classList.add('mid-ptr');
            const label = document.createElement('span');
            label.className = 'ptr-label mid-label';
            label.textContent = 'Mid';
            elements[currentStepData.mid].appendChild(label);
        }
        
        // í˜„ì¬ ë¹„êµ ëŒ€ìƒ í•˜ì´ë¼ì´íŠ¸
        if (elements[currentStepData.mid] && !currentStepData.found) {
            elements[currentStepData.mid].classList.add('current-check');
        }
        if (currentStepData.found && elements[currentStepData.mid]) {
            elements[currentStepData.mid].classList.add('found');
        }
    }

    document.getElementById('binaryPrevBtn').disabled = currentBinaryStep === 0;
    document.getElementById('binaryNextBtn').disabled = currentBinaryStep === binarySimulationSteps.length - 1;
}

function nextBinaryStep() {
    if (currentBinaryStep < binarySimulationSteps.length - 1) {
        currentBinaryStep++;
        renderBinarySearchStep(currentBinaryStep);
    }
}

function prevBinaryStep() {
    if (currentBinaryStep > 0) {
        currentBinaryStep--;
        renderBinarySearchStep(currentBinaryStep);
    }
}

// ---------- ìƒ‰ì¸ ìˆœì°¨ íƒìƒ‰ ì‹œë®¬ë ˆì´ì…˜ ----------
const indexSeqData = [2, 6, 11, 13, 18, 20, 22, 27, 29, 30, 34, 38, 41, 42, 45, 47]; // ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„°
const BLOCK_SIZE = 4; // ë¸”ë¡ í¬ê¸°
const indexTable = [];
for (let i = 0; i < indexSeqData.length; i += BLOCK_SIZE) {
    indexTable.push({ key: indexSeqData[i], index: i });
}

let indexSeqSimulationSteps = [];
let currentIndexSeqStep = 0;

function initIndexSeqSimulation() {
    const container = document.getElementById('indexSeqArrayContainer');
    container.innerHTML = '';
    indexSeqData.forEach((num, index) => {
        const element = document.createElement('div');
        element.className = 'array-element';
        element.textContent = num;
        element.dataset.index = index;
        container.appendChild(element);
    });

    const indexTableContainer = document.getElementById('indexTableContainer');
    indexTableContainer.innerHTML = '';
    indexTable.forEach((entry, idx) => {
        const blockDiv = document.createElement('div');
        blockDiv.className = 'index-block';
        blockDiv.innerHTML = `Key: ${entry.key}<br><span class="index-pointer">Idx: ${entry.index}</span>`;
        blockDiv.dataset.blockIndex = idx;
        indexTableContainer.appendChild(blockDiv);
    });

    document.getElementById('indexSeqSimulationMessage').textContent = 'ìˆ«ìë¥¼ ì…ë ¥í•˜ê³  íƒìƒ‰ì„ ì‹œì‘í•˜ì„¸ìš”.';
    document.getElementById('indexSeqPrevBtn').disabled = true;
    document.getElementById('indexSeqNextBtn').disabled = true;
    currentIndexSeqStep = 0;
    indexSeqSimulationSteps = [];
}

function startIndexSeqSimulation() {
    const targetInput = document.getElementById('indexSeqSearchTargetInput');
    const targetValue = parseInt(targetInput.value);

    if (isNaN(targetValue)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    indexSeqSimulationSteps = [];
    currentIndexSeqStep = 0;

    let found = false;
    let blockFoundIndex = -1;

    // 1. ìƒ‰ì¸ í…Œì´ë¸” íƒìƒ‰ (ì„ í˜• íƒìƒ‰ìœ¼ë¡œ ë‹¨ìˆœí™”)
    for (let i = 0; i < indexTable.length; i++) {
        indexSeqSimulationSteps.push({
            stage: 'index_table_search',
            blockIndex: i,
            message: `ìƒ‰ì¸ í…Œì´ë¸”ì—ì„œ í‚¤ ${targetValue}ì— ëŒ€í•œ ë¸”ë¡ íƒìƒ‰ ì¤‘: ${indexTable[i].key}ì™€ ë¹„êµ.`,
            foundInBlock: false,
            mainArrayIndex: -1
        });
        if (targetValue >= indexTable[i].key) { // ì°¾ìœ¼ë ¤ëŠ” ê°’ì´ í˜„ì¬ ë¸”ë¡ì˜ ì‹œì‘ í‚¤ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ìœ¼ë©´ ì´ ë¸”ë¡ ë˜ëŠ” ë‹¤ìŒ ë¸”ë¡ì— ìˆì„ ìˆ˜ ìˆìŒ
            blockFoundIndex = i;
        } else { // ì°¾ìœ¼ë ¤ëŠ” ê°’ì´ í˜„ì¬ ë¸”ë¡ì˜ ì‹œì‘ í‚¤ë³´ë‹¤ ì‘ìœ¼ë©´ ì´ì „ ë¸”ë¡ìœ¼ë¡œ íŒë‹¨ (ì •ë ¬ë˜ì–´ ìˆìœ¼ë¯€ë¡œ)
            break;
        }
    }

    if (blockFoundIndex === -1 && targetValue < indexTable[0].key) { // ì²« ë¸”ë¡ë³´ë‹¤ë„ ì‘ìœ¼ë©´ ì—†ìŒ
        indexSeqSimulationSteps.push({
            stage: 'final',
            message: `í‚¤ ${targetValue}ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (ì²« ë¸”ë¡ë³´ë‹¤ ì‘ìŒ).`,
            found: false
        });
    } else {
        // ì‹¤ì œ íƒìƒ‰í•  ë¸”ë¡ì˜ ì‹œì‘ ì¸ë±ìŠ¤ì™€ ë ì¸ë±ìŠ¤ ê²°ì •
        const startIdx = indexTable[blockFoundIndex].index;
        const endIdx = Math.min(startIdx + BLOCK_SIZE - 1, indexSeqData.length - 1);

        indexSeqSimulationSteps.push({
            stage: 'block_selected',
            blockIndex: blockFoundIndex,
            message: `í‚¤ ${targetValue}ê°€ ìˆì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ë¸”ë¡ [${startIdx}-${endIdx}] ì„ íƒ. ì´ì œ ë¸”ë¡ ë‚´ì—ì„œ ìˆœì°¨ íƒìƒ‰í•©ë‹ˆë‹¤.`,
            mainArrayIndex: -1
        });

        // 2. í•´ë‹¹ ë¸”ë¡ ë‚´ì—ì„œ ìˆœì°¨ íƒìƒ‰
        for (let i = startIdx; i <= endIdx; i++) {
            indexSeqSimulationSteps.push({
                stage: 'linear_in_block',
                blockIndex: blockFoundIndex,
                mainArrayIndex: i,
                message: `ë¸”ë¡ ë‚´ì—ì„œ ${indexSeqData[i]}ì™€ ${targetValue} ë¹„êµ ì¤‘.`,
                foundInBlock: indexSeqData[i] === targetValue
            });
            if (indexSeqData[i] === targetValue) {
                indexSeqSimulationSteps.push({
                    stage: 'final',
                    message: `ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ì¸ë±ìŠ¤ ${i}ì—ì„œ ë°œê²¬! íƒìƒ‰ ì„±ê³µ.`,
                    found: true,
                    mainArrayIndex: i
                });
                found = true;
                break;
            }
        }

        if (!found) {
            indexSeqSimulationSteps.push({
                stage: 'final',
                message: `í‚¤ ${targetValue}ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (ë¸”ë¡ ë‚´ì— ì—†ìŒ).`,
                found: false
            });
        }
    }
    
    renderIndexSeqStep(currentLinearStep);
    document.getElementById('indexSeqPrevBtn').disabled = true;
    document.getElementById('indexSeqNextBtn').disabled = indexSeqSimulationSteps.length <= 1;
}

function renderIndexSeqStep(step) {
    const arrayElements = document.querySelectorAll('#indexSeqArrayContainer .array-element');
    arrayElements.forEach(el => el.classList.remove('current-check', 'found', 'low-ptr', 'high-ptr'));
    const indexBlocks = document.querySelectorAll('#indexTableContainer .index-block');
    indexBlocks.forEach(block => block.classList.remove('highlighted'));

    if (indexSeqSimulationSteps.length === 0) return;

    const currentStepData = indexSeqSimulationSteps[step];
    const messageDiv = document.getElementById('indexSeqSimulationMessage');
    messageDiv.textContent = currentStepData.message;

    if (currentStepData.stage === 'index_table_search') {
        if (indexBlocks[currentStepData.blockIndex]) {
            indexBlocks[currentStepData.blockIndex].classList.add('highlighted');
        }
    } else if (currentStepData.stage === 'block_selected') {
        if (indexBlocks[currentStepData.blockIndex]) {
            indexBlocks[currentStepData.blockIndex].classList.add('highlighted');
        }
        // ë¸”ë¡ ë²”ìœ„ í•˜ì´ë¼ì´íŠ¸
        const startIdx = indexTable[currentStepData.blockIndex].index;
        const endIdx = Math.min(startIdx + BLOCK_SIZE - 1, indexSeqData.length - 1);
        for (let i = startIdx; i <= endIdx; i++) {
            if (arrayElements[i]) arrayElements[i].classList.add('low-ptr'); // ë¸”ë¡ ìš”ì†Œì„ì„ í‘œì‹œ (blue)
        }
    } else if (currentStepData.stage === 'linear_in_block') {
        // ì´ì „ ë¸”ë¡ ì„ íƒ í•˜ì´ë¼ì´íŠ¸ ìœ ì§€ (ì‹œê°ì  ì¼ê´€ì„±)
        if (indexBlocks[currentStepData.blockIndex]) {
            indexBlocks[currentStepData.blockIndex].classList.add('highlighted');
        }
        const startIdx = indexTable[currentStepData.blockIndex].index;
        const endIdx = Math.min(startIdx + BLOCK_SIZE - 1, indexSeqData.length - 1);
        for (let i = startIdx; i <= endIdx; i++) {
            if (arrayElements[i]) arrayElements[i].classList.add('low-ptr');
        }

        if (arrayElements[currentStepData.mainArrayIndex]) {
            arrayElements[currentStepData.mainArrayIndex].classList.add('current-check');
            if (currentStepData.foundInBlock) {
                arrayElements[currentStepData.mainArrayIndex].classList.add('found');
            }
        }
    } else if (currentStepData.stage === 'final') {
        if (currentStepData.found && arrayElements[currentStepData.mainArrayIndex]) {
            arrayElements[currentStepData.mainArrayIndex].classList.add('found');
        }
    }

    document.getElementById('indexSeqPrevBtn').disabled = currentIndexSeqStep === 0;
    document.getElementById('indexSeqNextBtn').disabled = currentIndexSeqStep === indexSeqSimulationSteps.length - 1;
}

function nextIndexSeqStep() {
    if (currentIndexSeqStep < indexSeqSimulationSteps.length - 1) {
        currentIndexSeqStep++;
        renderIndexSeqStep(currentIndexSeqStep);
    }
}

function prevIndexSeqStep() {
    if (currentIndexSeqStep > 0) {
        currentIndexSeqStep--;
        renderIndexSeqStep(currentIndexSeqStep);
    }
}


// ---------- ë³´ê°„ íƒìƒ‰ ì‹œë®¬ë ˆì´ì…˜ ----------
const interpolationData = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]; // ê· ë“± ë¶„í¬ ë°ì´í„°
let interpolationSimulationSteps = [];
let currentInterpolationStep = 0;

function initInterpolationSearchSimulation() {
    const container = document.getElementById('interpolationArrayContainer');
    container.innerHTML = '';
    interpolationData.forEach((num, index) => {
        const element = document.createElement('div');
        element.className = 'array-element';
        element.textContent = num;
        element.dataset.index = index;
        container.appendChild(element);
    });
    document.getElementById('interpolationSimulationMessage').textContent = 'ìˆ«ìë¥¼ ì…ë ¥í•˜ê³  íƒìƒ‰ì„ ì‹œì‘í•˜ì„¸ìš”.';
    document.getElementById('interpolationPrevBtn').disabled = true;
    document.getElementById('interpolationNextBtn').disabled = true;
    currentInterpolationStep = 0;
    interpolationSimulationSteps = [];
}

function startInterpolationSearchSimulation() {
    const targetInput = document.getElementById('interpolationSearchTargetInput');
    const targetValue = parseInt(targetInput.value);

    if (isNaN(targetValue)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    interpolationSimulationSteps = [];
    currentInterpolationStep = 0;

    let low = 0;
    let high = interpolationData.length - 1;
    let found = false;

    while (low <= high && targetValue >= interpolationData[low] && targetValue <= interpolationData[high]) {
        if (low === high) { // ë°°ì—´ì— ìš”ì†Œê°€ í•˜ë‚˜ë§Œ ë‚¨ì€ ê²½ìš°
            if (interpolationData[low] === targetValue) {
                interpolationSimulationSteps.push({
                    low: low, high: high, pos: low,
                    message: `ê°’ ${targetValue}ê°€ ì¸ë±ìŠ¤ ${low}ì—ì„œ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤!`,
                    found: true, final: true
                });
                found = true;
            } else {
                interpolationSimulationSteps.push({
                    low: low, high: high, pos: low,
                    message: `ê°’ ${targetValue}ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`,
                    found: false, final: true
                });
            }
            break;
        }

        // ë³´ê°„ ê³µì‹ìœ¼ë¡œ 'pos' ê³„ì‚°
        let pos = low + Math.floor(((targetValue - interpolationData[low]) * (high - low)) / (interpolationData[high] - interpolationData[low]));

        // ë²”ìœ„ ë‚´ì— ìˆëŠ”ì§€ í™•ì¸
        if (pos < low || pos > high) {
             interpolationSimulationSteps.push({
                low: low, high: high, pos: pos,
                message: `ê³„ì‚°ëœ ìœ„ì¹˜ ${pos}ê°€ ìœ íš¨ ë²”ìœ„ë¥¼ ë²—ì–´ë‚©ë‹ˆë‹¤. íƒìƒ‰ ì‹¤íŒ¨.`,
                found: false, final: true
            });
            break;
        }

        interpolationSimulationSteps.push({
            low: low,
            high: high,
            pos: pos,
            message: `low: ${low}, high: ${high}. ì˜ˆì¸¡ëœ ìœ„ì¹˜(pos): ${pos}. ${interpolationData[pos]}ì™€ ${targetValue} ë¹„êµ.`,
            found: interpolationData[pos] === targetValue
        });

        if (interpolationData[pos] === targetValue) {
            interpolationSimulationSteps.push({
                low: low, high: high, pos: pos,
                message: `ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ì¸ë±ìŠ¤ ${pos}ì—ì„œ ë°œê²¬! íƒìƒ‰ ì„±ê³µ.`,
                found: true, final: true
            });
            found = true;
            break;
        } else if (interpolationData[pos] < targetValue) {
            low = pos + 1;
        } else {
            high = pos - 1;
        }
    }

    if (!found) {
        interpolationSimulationSteps.push({
            low: -1, high: -1, pos: -1,
            message: `ë°°ì—´ì— ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. íƒìƒ‰ ì‹¤íŒ¨.`,
            found: false, final: true
        });
    }

    renderInterpolationStep(currentInterpolationStep);
    document.getElementById('interpolationPrevBtn').disabled = true;
    document.getElementById('interpolationNextBtn').disabled = interpolationSimulationSteps.length <= 1;
}

function renderInterpolationStep(step) {
    const elements = document.querySelectorAll('#interpolationArrayContainer .array-element');
    elements.forEach(el => {
        el.classList.remove('low-ptr', 'high-ptr', 'mid-ptr', 'current-check', 'found');
        el.querySelectorAll('.ptr-label').forEach(label => label.remove());
    });

    if (interpolationSimulationSteps.length === 0) return;

    const currentStepData = interpolationSimulationSteps[step];
    const messageDiv = document.getElementById('interpolationSimulationMessage');
    messageDiv.textContent = currentStepData.message;

    if (currentStepData.low !== -1) {
        if (elements[currentStepData.low]) {
            elements[currentStepData.low].classList.add('low-ptr');
            const label = document.createElement('span');
            label.className = 'ptr-label low-label';
            label.textContent = 'Low';
            elements[currentStepData.low].appendChild(label);
        }
        if (elements[currentStepData.high]) {
            elements[currentStepData.high].classList.add('high-ptr');
            const label = document.createElement('span');
            label.className = 'ptr-label high-label';
            label.textContent = 'High';
            elements[currentStepData.high].appendChild(label);
        }
        if (elements[currentStepData.pos] && currentStepData.pos >= 0 && currentStepData.pos < elements.length) {
            elements[currentStepData.pos].classList.add('mid-ptr'); // mid-ptr í´ë˜ìŠ¤ ì¬í™œìš©
            const label = document.createElement('span');
            label.className = 'ptr-label mid-label';
            label.textContent = 'Pos';
            elements[currentStepData.pos].appendChild(label);

            if (currentStepData.found) {
                elements[currentStepData.pos].classList.add('found');
            } else {
                elements[currentStepData.pos].classList.add('current-check');
            }
        }
    }

    document.getElementById('interpolationPrevBtn').disabled = currentInterpolationStep === 0;
    document.getElementById('interpolationNextBtn').disabled = currentInterpolationStep === interpolationSimulationSteps.length - 1;
}

function nextInterpolationStep() {
    if (currentInterpolationStep < interpolationSimulationSteps.length - 1) {
        currentInterpolationStep++;
        renderInterpolationStep(currentInterpolationStep);
    }
}

function prevInterpolationStep() {
    if (currentInterpolationStep > 0) {
        currentInterpolationStep--;
        renderInterpolationStep(currentInterpolationStep);
    }
}

// ---------- ê· í˜• ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ (AVL íŠ¸ë¦¬ ì˜ˆì‹œ) ì‹œë®¬ë ˆì´ì…˜ ----------
// ê°„ë‹¨í•œ íŠ¸ë¦¬ êµ¬ì¡° (ë…¸ë“œì™€ ì—°ê²° ì •ë³´ë§Œ)
const avlTreeNodes = {
    50: { left: 30, right: 70 },
    30: { left: 20, right: 40 },
    70: { left: 60, right: 80 },
    20: { left: null, right: null },
    40: { left: null, right: null },
    60: { left: null, right: null },
    80: { left: null, right: null }
}; 

let avlSimulationSteps = [];
let currentAvlStep = 0;

function initAvlSearchSimulation() {
    const displayArea = document.getElementById('avlTreeDisplayArea');
    displayArea.innerHTML = ''; // ê¸°ì¡´ ë‚´ìš© ì´ˆê¸°í™” (íŠ¸ë¦¬ ë…¸ë“œë§Œ)
    
    // ì´ì§„ íŠ¸ë¦¬ì˜ ê³„ì¸µ êµ¬ì¡°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°„ë‹¨í•œ HTML
    const treeDiv = document.createElement('div');
    treeDiv.className = 'flex flex-col items-center w-full';

    // Root
    let rootWrapper = document.createElement('div');
    rootWrapper.className = 'flex justify-center w-full';
    let rootNode = createTreeNode(50);
    rootWrapper.appendChild(rootNode);
    treeDiv.appendChild(rootWrapper);

    // Level 2 (Children of 50)
    let level2Wrapper = document.createElement('div');
    level2Wrapper.className = 'flex justify-center w-full mt-10';
    let node30 = createTreeNode(30);
    let node70 = createTreeNode(70);
    level2Wrapper.appendChild(node30);
    level2Wrapper.appendChild(node70);
    treeDiv.appendChild(level2Wrapper);

    // Level 3 (Children of 30, 70)
    let level3Wrapper = document.createElement('div');
    level3Wrapper.className = 'flex justify-center w-full mt-10';
    level3Wrapper.appendChild(createTreeNode(20));
    level3Wrapper.appendChild(createTreeNode(40));
    level3Wrapper.appendChild(createTreeNode(60));
    level3Wrapper.appendChild(createTreeNode(80));
    treeDiv.appendChild(level3Wrapper);

    displayArea.appendChild(treeDiv); // Add the tree structure to the display area


    const messageDiv = document.getElementById('avlSimulationMessage'); // Now outside the cleared area
    if (messageDiv) {
        messageDiv.textContent = 'ìˆ«ìë¥¼ ì…ë ¥í•˜ê³  íƒìƒ‰ì„ ì‹œì‘í•˜ì„¸ìš”.';
    } else {
        console.error("avlSimulationMessage element not found in initAvlSearchSimulation.");
    }

    // ë²„íŠ¼ë“¤ë„ ì´ì œ avlTreeDisplayArea ì™¸ë¶€ì— ìˆìœ¼ë¯€ë¡œ document.getElementByIdë¡œ ì§ì ‘ ì ‘ê·¼
    const prevBtn = document.getElementById('avlPrevBtn');
    const nextBtn = document.getElementById('avlNextBtn');

    if (prevBtn) prevBtn.disabled = true;
    if (nextBtn) nextBtn.disabled = true;

    currentAvlStep = 0;
    avlSimulationSteps = [];
}

function createTreeNode(value) {
    const node = document.createElement('div');
    node.className = 'tree-node';
    node.textContent = value;
    node.dataset.value = value;
    return node;
}

function startAvlSearchSimulation() {
    const targetInput = document.getElementById('avlSearchTargetInput');
    const targetValue = parseInt(targetInput.value);

    if (isNaN(targetValue)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    avlSimulationSteps = [];
    currentAvlStep = 0;

    let currentNodeValue = 50; // AVL íŠ¸ë¦¬ì˜ ë£¨íŠ¸ ë…¸ë“œë¶€í„° ì‹œì‘ (ì˜ˆì‹œ)
    let found = false;
    let path = [];

    // íƒìƒ‰ ì‹œë®¬ë ˆì´ì…˜
    while (currentNodeValue !== null && avlTreeNodes[currentNodeValue]) {
        path.push(currentNodeValue);
        avlSimulationSteps.push({
            path: [...path],
            message: `í˜„ì¬ ë…¸ë“œ ${currentNodeValue}ì™€ ${targetValue} ë¹„êµ.`,
            found: currentNodeValue === targetValue
        });

        if (currentNodeValue === targetValue) {
            found = true;
            break;
        } else if (targetValue < currentNodeValue) {
            currentNodeValue = avlTreeNodes[currentNodeValue].left;
        } else {
            currentNodeValue = avlTreeNodes[currentNodeValue].right;
        }
    }
    
    // ìµœì¢… ìƒíƒœ ê¸°ë¡ (ì°¾ì•˜ê±°ë‚˜ ëª» ì°¾ì•˜ê±°ë‚˜)
    avlSimulationSteps.push({
        path: [...path],
        message: found ? `ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ë°œê²¬í–ˆìŠµë‹ˆë‹¤!` : `ëª©í‘œê°’ ${targetValue}ë¥¼(ì„) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`,
        found: found,
        final: true
    });

    renderAvlStep(currentAvlStep);
    document.getElementById('avlPrevBtn').disabled = true;
    document.getElementById('avlNextBtn').disabled = avlSimulationSteps.length <= 1;
}

function renderAvlStep(step) {
    const nodes = document.querySelectorAll('#avlTreeDisplayArea .tree-node'); // Changed selector
    nodes.forEach(node => {
        node.classList.remove('highlighted-path', 'found-node', 'current-check');
    });

    if (avlSimulationSteps.length === 0) return;

    const currentStepData = avlSimulationSteps[step];
    const messageDiv = document.getElementById('avlSimulationMessage');
    messageDiv.textContent = currentStepData.message;

    currentStepData.path.forEach(nodeValue => {
        const nodeEl = Array.from(nodes).find(n => parseInt(n.dataset.value) === nodeValue);
        if (nodeEl) {
            nodeEl.classList.add('highlighted-path');
        }
    });

    if (currentStepData.found) {
        const foundNodeEl = Array.from(nodes).find(n => parseInt(n.dataset.value) === currentStepData.path[currentStepData.path.length - 1]);
        if (foundNodeEl) {
            foundNodeEl.classList.add('found-node');
        }
    } else if (currentStepData.path.length > 0 && !currentStepData.final) {
         const lastNodeEl = Array.from(nodes).find(n => parseInt(n.dataset.value) === currentStepData.path[currentStepData.path.length - 1]);
         if (lastNodeEl) {
             lastNodeEl.classList.add('current-check'); // í˜„ì¬ ë¹„êµ ì¤‘ì¸ ë…¸ë“œ í‘œì‹œ
         }
    }


    document.getElementById('avlPrevBtn').disabled = currentAvlStep === 0;
    document.getElementById('avlNextBtn').disabled = currentAvlStep === avlSimulationSteps.length - 1;
}

function nextAvlStep() {
    if (currentAvlStep < avlSimulationSteps.length - 1) {
        currentAvlStep++;
        renderAvlStep(currentAvlStep);
    }
}

function prevAvlStep() {
    if (currentAvlStep > 0) {
        currentAvlStep--;
        renderAvlStep(currentAvlStep);
    }
}


// ---------- í•´ì‹± - ì„ í˜• ì¡°ì‚¬ë²• ì‹œë®¬ë ˆì´ì…˜ ----------
const LINEAR_PROBING_TABLE_SIZE = 7;
let linearProbingTable = Array(LINEAR_PROBING_TABLE_SIZE).fill(null);
let linearProbingSimulationSteps = [];
let currentLinearProbingStep = 0;

function linearProbingHashFunction(key) {
    return key % LINEAR_PROBING_TABLE_SIZE;
}

function initLinearProbingSimulation() {
    const container = document.getElementById('linearProbingTableContainer');
    container.innerHTML = '';
    linearProbingTable = Array(LINEAR_PROBING_TABLE_SIZE).fill(null); // í…Œì´ë¸” ì´ˆê¸°í™”

    for (let i = 0; i < LINEAR_PROBING_TABLE_SIZE; i++) {
        const bucket = document.createElement('div');
        bucket.className = 'hash-bucket';
        bucket.dataset.index = i;
        const indexLabel = document.createElement('span');
        indexLabel.className = 'hash-bucket-index';
        indexLabel.textContent = `[${i}]`;
        bucket.appendChild(indexLabel);
        container.appendChild(bucket);
    }
    document.getElementById('linearProbingSimulationMessage').textContent = 'í‚¤ë¥¼ ì…ë ¥í•˜ê³  ì‚½ì…ì„ ì‹œì‘í•˜ì„¸ìš”.';
    document.getElementById('linearProbingPrevBtn').disabled = true;
    document.getElementById('linearProbingNextBtn').disabled = true;
    currentLinearProbingStep = 0;
    linearProbingSimulationSteps = [];
}

function startLinearProbingSimulation() {
    const keyInput = document.getElementById('linearProbingKeyInput');
    const key = parseInt(keyInput.value);

    if (isNaN(key)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    linearProbingSimulationSteps = [];
    currentLinearProbingStep = 0;

    let tempTable = [...linearProbingTable]; // ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì„ì‹œ í…Œì´ë¸”

    let hashIndex = linearProbingHashFunction(key);
    let probeIndex = hashIndex;
    let inserted = false;

    // ì´ˆê¸° í•´ì‹œ ìœ„ì¹˜ í™•ì¸
    linearProbingSimulationSteps.push({
        table: [...tempTable],
        originalHash: hashIndex,
        currentProbe: hashIndex,
        key: key,
        message: `í‚¤ ${key}ì˜ í•´ì‹œ ì£¼ì†ŒëŠ” ${hashIndex}ì…ë‹ˆë‹¤. ì¸ë±ìŠ¤ ${hashIndex} í™•ì¸ ì¤‘.`,
        collision: tempTable[hashIndex] !== null,
        inserted: false,
        final: false
    });

    for (let i = 0; i < LINEAR_PROBING_TABLE_SIZE; i++) {
        probeIndex = (hashIndex + i) % LINEAR_PROBING_TABLE_SIZE;
        
        if (i > 0) { // ì²« í”„ë¡œë¸Œ ì´í›„ ë‹¨ê³„ëŠ” ì´ì „ ìƒíƒœë¥¼ ìœ ì§€í•˜ë©° ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
             linearProbingSimulationSteps.push({
                table: [...tempTable], // ì´ì „ ë‹¨ê³„ì˜ í…Œì´ë¸” ìƒíƒœ ê·¸ëŒ€ë¡œ ì‚¬ìš©
                originalHash: hashIndex,
                currentProbe: probeIndex,
                key: key,
                message: `ì¶©ëŒ ë°œìƒ. ë‹¤ìŒ ì¸ë±ìŠ¤ ${probeIndex} í™•ì¸ ì¤‘ (ì„ í˜• ì¡°ì‚¬).`,
                collision: tempTable[probeIndex] !== null,
                inserted: false,
                final: false
            });
        }
        
        if (tempTable[probeIndex] === null) {
            tempTable[probeIndex] = key;
            linearProbingSimulationSteps.push({
                table: [...tempTable],
                originalHash: hashIndex,
                currentProbe: probeIndex,
                key: key,
                message: `ì¸ë±ìŠ¤ ${probeIndex}ì— í‚¤ ${key} ì‚½ì… ì™„ë£Œ.`,
                collision: false,
                inserted: true,
                final: true
            });
            inserted = true;
            break;
        }
    }

    if (!inserted) {
        linearProbingSimulationSteps.push({
            table: [...tempTable],
            originalHash: hashIndex,
            currentProbe: -1,
            key: key,
            message: `í…Œì´ë¸”ì´ ê°€ë“ ì°¼ê±°ë‚˜ í‚¤ ${key}ë¥¼ ì‚½ì…í•  ê³µê°„ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.`,
            collision: false,
            inserted: false,
            final: true
        });
    }
    
    // ì‹¤ì œ í…Œì´ë¸”ì— ë°˜ì˜
    linearProbingTable = linearProbingSimulationSteps[linearProbingSimulationSteps.length - 1].table;

    renderLinearProbingStep(currentLinearProbingStep);
    document.getElementById('linearProbingPrevBtn').disabled = true;
    document.getElementById('linearProbingNextBtn').disabled = linearProbingSimulationSteps.length <= 1;
}

function renderLinearProbingStep(step) {
    const buckets = document.querySelectorAll('#linearProbingTableContainer .hash-bucket');
    buckets.forEach(bucket => {
        bucket.innerHTML = `<span class="hash-bucket-index">[${bucket.dataset.index}]</span>`; // ë‚´ìš© ì´ˆê¸°í™”
        bucket.classList.remove('highlighted');
    });

    if (linearProbingSimulationSteps.length === 0) return;

    const currentStepData = linearProbingSimulationSteps[step];
    const messageDiv = document.getElementById('linearProbingSimulationMessage');
    messageDiv.textContent = currentStepData.message;

    // í…Œì´ë¸” ìƒíƒœ ë Œë”ë§
    currentStepData.table.forEach((value, index) => {
        const bucketEl = buckets[index];
        if (value !== null) {
            const entry = document.createElement('div');
            entry.className = 'hash-entry';
            entry.textContent = value;
            if (currentStepData.currentProbe === index && currentStepData.inserted) {
                 entry.classList.add('inserted');
            } else if (currentStepData.currentProbe === index && currentStepData.collision && !currentStepData.inserted) {
                entry.classList.add('probing');
            }
             bucketEl.appendChild(entry);
        }
    });

    // í˜„ì¬ í”„ë¡œë¸Œ ì¸ë±ìŠ¤ í•˜ì´ë¼ì´íŠ¸
    if (currentStepData.currentProbe !== -1 && buckets[currentStepData.currentProbe]) {
        buckets[currentStepData.currentProbe].classList.add('highlighted');
    }

    document.getElementById('linearProbingPrevBtn').disabled = currentLinearProbingStep === 0;
    document.getElementById('linearProbingNextBtn').disabled = currentLinearProbingStep === linearProbingSimulationSteps.length - 1;
}

function nextLinearProbingStep() {
    if (currentLinearProbingStep < linearProbingSimulationSteps.length - 1) {
        currentLinearProbingStep++;
        renderLinearProbingStep(currentLinearProbingStep);
    }
}

function prevLinearProbingStep() {
    if (currentLinearProbingStep > 0) {
        currentLinearProbingStep--;
        renderLinearProbingStep(currentLinearProbingStep);
    }
}

// ---------- í•´ì‹± - ì´ì°¨ ì¡°ì‚¬ë²• ì‹œë®¬ë ˆì´ì…˜ ----------
const QUADRATIC_PROBING_TABLE_SIZE = 7;
let quadraticProbingTable = Array(QUADRATIC_PROBING_TABLE_SIZE).fill(null);
let quadraticProbingSimulationSteps = [];
let currentQuadraticProbingStep = 0;

function quadraticProbingHashFunction(key) {
    return key % QUADRATIC_PROBING_TABLE_SIZE;
}

function initQuadraticProbingSimulation() {
    const container = document.getElementById('quadraticProbingTableContainer');
    container.innerHTML = '';
    quadraticProbingTable = Array(QUADRATIC_PROBING_TABLE_SIZE).fill(null); // í…Œì´ë¸” ì´ˆê¸°í™”

    for (let i = 0; i < QUADRATIC_PROBING_TABLE_SIZE; i++) {
        const bucket = document.createElement('div');
        bucket.className = 'hash-bucket';
        bucket.dataset.index = i;
        const indexLabel = document.createElement('span');
        indexLabel.className = 'hash-bucket-index';
        indexLabel.textContent = `[${i}]`;
        bucket.appendChild(indexLabel);
        container.appendChild(bucket);
    }
    document.getElementById('quadraticProbingSimulationMessage').textContent = 'í‚¤ë¥¼ ì…ë ¥í•˜ê³  ì‚½ì…ì„ ì‹œì‘í•˜ì„¸ìš”.';
    document.getElementById('quadraticProbingPrevBtn').disabled = true;
    document.getElementById('quadraticProbingNextBtn').disabled = true;
    currentQuadraticProbingStep = 0;
    quadraticProbingSimulationSteps = [];
}

function startQuadraticProbingSimulation() {
    const keyInput = document.getElementById('quadraticProbingKeyInput');
    const key = parseInt(keyInput.value);

    if (isNaN(key)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    quadraticProbingSimulationSteps = [];
    currentQuadraticProbingStep = 0;

    let tempTable = [...quadraticProbingTable]; // ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì„ì‹œ í…Œì´ë¸”

    let hashIndex = quadraticProbingHashFunction(key);
    let inserted = false;

    // ì´ˆê¸° í•´ì‹œ ìœ„ì¹˜ í™•ì¸
    quadraticProbingSimulationSteps.push({
        table: [...tempTable],
        originalHash: hashIndex,
        currentProbe: hashIndex,
        key: key,
        message: `í‚¤ ${key}ì˜ í•´ì‹œ ì£¼ì†ŒëŠ” ${hashIndex}ì…ë‹ˆë‹¤. ì¸ë±ìŠ¤ ${hashIndex} í™•ì¸ ì¤‘.`,
        collision: tempTable[hashIndex] !== null,
        inserted: false,
        final: false
    });

    for (let i = 0; i < QUADRATIC_PROBING_TABLE_SIZE; i++) {
        let probeOffset = i * i;
        let probeIndex = (hashIndex + probeOffset) % QUADRATIC_PROBING_TABLE_SIZE;
        
        if (i > 0) {
            quadraticProbingSimulationSteps.push({
                table: [...tempTable],
                originalHash: hashIndex,
                currentProbe: probeIndex,
                key: key,
                message: `ì¶©ëŒ ë°œìƒ. ë‹¤ìŒ ì¸ë±ìŠ¤ ${probeIndex} í™•ì¸ ì¤‘ (ì´ì°¨ ì¡°ì‚¬: +${i}^2).`,
                collision: tempTable[probeIndex] !== null,
                inserted: false,
                final: false
            });
        }

        if (tempTable[probeIndex] === null) {
            tempTable[probeIndex] = key;
            quadraticProbingSimulationSteps.push({
                table: [...tempTable],
                originalHash: hashIndex,
                currentProbe: probeIndex,
                key: key,
                message: `ì¸ë±ìŠ¤ ${probeIndex}ì— í‚¤ ${key} ì‚½ì… ì™„ë£Œ.`,
                collision: false,
                inserted: true,
                final: true
            });
            inserted = true;
            break;
        }
    }

    if (!inserted) {
        quadraticProbingSimulationSteps.push({
            table: [...tempTable],
            originalHash: hashIndex,
            currentProbe: -1,
            key: key,
            message: `í…Œì´ë¸”ì´ ê°€ë“ ì°¼ê±°ë‚˜ í‚¤ ${key}ë¥¼ ì‚½ì…í•  ê³µê°„ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.`,
            collision: false,
            inserted: false,
            final: true
        });
    }
    quadraticProbingTable = quadraticProbingSimulationSteps[quadraticProbingSimulationSteps.length - 1].table;

    renderQuadraticProbingStep(currentQuadraticProbingStep);
    document.getElementById('quadraticProbingPrevBtn').disabled = true;
    document.getElementById('quadraticProbingNextBtn').disabled = quadraticProbingSimulationSteps.length <= 1;
}

function renderQuadraticProbingStep(step) {
    const buckets = document.querySelectorAll('#quadraticProbingTableContainer .hash-bucket');
    buckets.forEach(bucket => {
        bucket.innerHTML = `<span class="hash-bucket-index">[${bucket.dataset.index}]</span>`;
        bucket.classList.remove('highlighted');
    });

    if (quadraticProbingSimulationSteps.length === 0) return;

    const currentStepData = quadraticProbingSimulationSteps[step];
    const messageDiv = document.getElementById('quadraticProbingSimulationMessage');
    messageDiv.textContent = currentStepData.message;

    currentStepData.table.forEach((value, index) => {
        const bucketEl = buckets[index];
        if (value !== null) {
            const entry = document.createElement('div');
            entry.className = 'hash-entry';
            entry.textContent = value;
            if (currentStepData.currentProbe === index && currentStepData.inserted) {
                 entry.classList.add('inserted');
            } else if (currentStepData.currentProbe === index && currentStepData.collision && !currentStepData.inserted) {
                entry.classList.add('probing');
            }
             bucketEl.appendChild(entry);
        }
    });

    if (currentStepData.currentProbe !== -1 && buckets[currentStepData.currentProbe]) {
        buckets[currentStepData.currentProbe].classList.add('highlighted');
    }

    document.getElementById('quadraticProbingPrevBtn').disabled = currentQuadraticProbingStep === 0;
    document.getElementById('quadraticProbingNextBtn').disabled = currentQuadraticProbingStep === quadraticProbingSimulationSteps.length - 1;
}

function nextQuadraticProbingStep() {
    if (currentQuadraticProbingStep < quadraticProbingSimulationSteps.length - 1) {
        currentQuadraticProbingStep++;
        renderQuadraticProbingStep(currentQuadraticProbingStep);
    }
}

function prevQuadraticProbingStep() {
    if (currentQuadraticProbingStep > 0) {
        currentQuadraticProbingStep--;
        renderQuadraticProbingStep(currentQuadraticProbingStep);
    }
}

// ---------- í•´ì‹± - ì´ì¤‘ í•´ì‹±ë²• ì‹œë®¬ë ˆì´ì…˜ ----------
const DOUBLE_HASHING_TABLE_SIZE = 7;
let doubleHashingTable = Array(DOUBLE_HASHING_TABLE_SIZE).fill(null);
let doubleHashingSimulationSteps = [];
let currentDoubleHashingStep = 0;

function doubleHashingHashFunction1(key) {
    return key % DOUBLE_HASHING_TABLE_SIZE;
}

function doubleHashingHashFunction2(key) {
    return 1 + (key % (DOUBLE_HASHING_TABLE_SIZE - 1)); // Second hash function (must return non-zero)
}

function initDoubleHashingSimulation() {
    const container = document.getElementById('doubleHashingTableContainer');
    container.innerHTML = '';
    doubleHashingTable = Array(DOUBLE_HASHING_TABLE_SIZE).fill(null); // í…Œì´ë¸” ì´ˆê¸°í™”

    for (let i = 0; i < DOUBLE_HASHING_TABLE_SIZE; i++) {
        const bucket = document.createElement('div');
        bucket.className = 'hash-bucket';
        bucket.dataset.index = i;
        const indexLabel = document.createElement('span');
        indexLabel.className = 'hash-bucket-index';
        indexLabel.textContent = `[${i}]`;
        bucket.appendChild(indexLabel);
        container.appendChild(bucket);
    }
    document.getElementById('doubleHashingSimulationMessage').textContent = 'í‚¤ë¥¼ ì…ë ¥í•˜ê³  ì‚½ì…ì„ ì‹œì‘í•˜ì„¸ìš”.';
    document.getElementById('doubleHashingPrevBtn').disabled = true;
    document.getElementById('doubleHashingNextBtn').disabled = true;
    currentDoubleHashingStep = 0;
    doubleHashingSimulationSteps = [];
}

function startDoubleHashingSimulation() {
    const keyInput = document.getElementById('doubleHashingKeyInput');
    const key = parseInt(keyInput.value);

    if (isNaN(key)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    doubleHashingSimulationSteps = [];
    currentDoubleHashingStep = 0;

    let tempTable = [...doubleHashingTable]; // ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì„ì‹œ í…Œì´ë¸”

    let hash1 = doubleHashingHashFunction1(key);
    let hash2 = doubleHashingHashFunction2(key);
    let inserted = false;

    // ì´ˆê¸° í•´ì‹œ ìœ„ì¹˜ í™•ì¸
    doubleHashingSimulationSteps.push({
        table: [...tempTable],
        originalHash1: hash1,
        hash2: hash2,
        currentProbe: hash1,
        key: key,
        message: `í‚¤ ${key}ì˜ ì²« í•´ì‹œ ì£¼ì†ŒëŠ” ${hash1}, ë‘ ë²ˆì§¸ í•´ì‹œëŠ” ${hash2}ì…ë‹ˆë‹¤. ì¸ë±ìŠ¤ ${hash1} í™•ì¸ ì¤‘.`,
        collision: tempTable[hash1] !== null,
        inserted: false,
        final: false
    });

    for (let i = 0; i < DOUBLE_HASHING_TABLE_SIZE; i++) {
        let probeIndex = (hash1 + i * hash2) % DOUBLE_HASHING_TABLE_SIZE;
        
        if (i > 0) {
            doubleHashingSimulationSteps.push({
                table: [...tempTable],
                originalHash1: hash1,
                hash2: hash2,
                currentProbe: probeIndex,
                key: key,
                message: `ì¶©ëŒ ë°œìƒ. ë‹¤ìŒ ì¸ë±ìŠ¤ ${probeIndex} í™•ì¸ ì¤‘ (ì´ì¤‘ í•´ì‹±: +${i}*${hash2}).`,
                collision: tempTable[probeIndex] !== null,
                inserted: false,
                final: false
            });
        }

        if (tempTable[probeIndex] === null) {
            tempTable[probeIndex] = key;
            doubleHashingSimulationSteps.push({
                table: [...tempTable],
                originalHash1: hash1,
                hash2: hash2,
                currentProbe: probeIndex,
                key: key,
                message: `ì¸ë±ìŠ¤ ${probeIndex}ì— í‚¤ ${key} ì‚½ì… ì™„ë£Œ.`,
                collision: false,
                inserted: true,
                final: true
            });
            inserted = true;
            break;
        }
    }

    if (!inserted) {
        doubleHashingSimulationSteps.push({
            table: [...tempTable],
            originalHash1: hash1,
            hash2: hash2,
            currentProbe: -1,
            key: key,
            message: `í…Œì´ë¸”ì´ ê°€ë“ ì°¼ê±°ë‚˜ í‚¤ ${key}ë¥¼ ì‚½ì…í•  ê³µê°„ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.`,
            collision: false,
            inserted: false,
            final: true
        });
    }
    doubleHashingTable = doubleHashingSimulationSteps[doubleHashingSimulationSteps.length - 1].table;

    renderDoubleHashingStep(currentDoubleHashingStep);
    document.getElementById('doubleHashingPrevBtn').disabled = true;
    document.getElementById('doubleHashingNextBtn').disabled = doubleHashingSimulationSteps.length <= 1;
}

function renderDoubleHashingStep(step) {
    const buckets = document.querySelectorAll('#doubleHashingTableContainer .hash-bucket');
    buckets.forEach(bucket => {
        bucket.innerHTML = `<span class="hash-bucket-index">[${bucket.dataset.index}]</span>`;
        bucket.classList.remove('highlighted');
    });

    if (doubleHashingSimulationSteps.length === 0) return;

    const currentStepData = doubleHashingSimulationSteps[step];
    const messageDiv = document.getElementById('doubleHashingSimulationMessage');
    messageDiv.textContent = currentStepData.message;

    currentStepData.table.forEach((value, index) => {
        const bucketEl = buckets[index];
        if (value !== null) {
            const entry = document.createElement('div');
            entry.className = 'hash-entry';
            entry.textContent = value;
            if (currentStepData.currentProbe === index && currentStepData.inserted) {
                 entry.classList.add('inserted');
            } else if (currentStepData.currentProbe === index && currentStepData.collision && !currentStepData.inserted) {
                entry.classList.add('probing');
            }
             bucketEl.appendChild(entry);
        }
    });

    if (currentStepData.currentProbe !== -1 && buckets[currentStepData.currentProbe]) {
        buckets[currentStepData.currentProbe].classList.add('highlighted');
    }

    document.getElementById('doubleHashingPrevBtn').disabled = currentDoubleHashingStep === 0;
    document.getElementById('doubleHashingNextBtn').disabled = currentDoubleHashingStep === doubleHashingSimulationSteps.length - 1;
}

function nextDoubleHashingStep() {
    if (currentDoubleHashingStep < doubleHashingSimulationSteps.length - 1) {
        currentDoubleHashingStep++;
        renderDoubleHashingStep(currentDoubleHashingStep);
    }
}

function prevDoubleHashingStep() {
    if (currentDoubleHashingStep > 0) {
        currentDoubleHashingStep--;
        renderDoubleHashingStep(currentDoubleHashingStep);
    }
}


// ---------- í•´ì‹± - ì²´ì´ë‹ ì‹œë®¬ë ˆì´ì…˜ ----------
const CHAINING_TABLE_SIZE = 7;
let chainingTable = Array(CHAINING_TABLE_SIZE).fill(null).map(() => []); // ê° ë²„í‚·ì€ ë°°ì—´(ì—°ê²° ë¦¬ìŠ¤íŠ¸)
let chainingSimulationSteps = [];
let currentChainingStep = 0;

function chainingHashFunction(key) {
    return key % CHAINING_TABLE_SIZE;
}

function initChainingSimulation() {
    const container = document.getElementById('chainingTableContainer');
    container.innerHTML = '';
    chainingTable = Array(CHAINING_TABLE_SIZE).fill(null).map(() => []); // í…Œì´ë¸” ì´ˆê¸°í™”

    for (let i = 0; i < CHAINING_TABLE_SIZE; i++) {
        const bucket = document.createElement('div');
        bucket.className = 'hash-bucket';
        bucket.dataset.index = i;
        const indexLabel = document.createElement('span');
        indexLabel.className = 'hash-bucket-index';
        indexLabel.textContent = `[${i}]`;
        bucket.appendChild(indexLabel);
        container.appendChild(bucket);
    }
    document.getElementById('chainingSimulationMessage').textContent = 'í‚¤ë¥¼ ì…ë ¥í•˜ê³  ì‚½ì…ì„ ì‹œì‘í•˜ì„¸ìš”.';
    document.getElementById('chainingPrevBtn').disabled = true;
    document.getElementById('chainingNextBtn').disabled = true;
    currentChainingStep = 0;
    chainingSimulationSteps = [];
}

function startChainingSimulation() {
    const keyInput = document.getElementById('chainingKeyInput');
    const key = parseInt(keyInput.value);

    if (isNaN(key)) {
        showModal('ì…ë ¥ ì˜¤ë¥˜', 'ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    chainingSimulationSteps = [];
    currentChainingStep = 0;

    const hashIndex = chainingHashFunction(key);
    let tempTable = chainingTable.map(bucket => [...bucket]); // ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì„ì‹œ í…Œì´ë¸”

    // 1ë‹¨ê³„: í•´ì‹œ ì£¼ì†Œ ê³„ì‚° ë° ë²„í‚· í•˜ì´ë¼ì´íŠ¸
    chainingSimulationSteps.push({
        table: tempTable.map(bucket => [...bucket]), // í˜„ì¬ í…Œì´ë¸” ìƒíƒœ ë³µì‚¬
        originalHash: hashIndex,
        key: key,
        message: `í‚¤ ${key}ì˜ í•´ì‹œ ì£¼ì†ŒëŠ” ${hashIndex}ì…ë‹ˆë‹¤. í•´ë‹¹ ë²„í‚·ì„ í™•ì¸í•©ë‹ˆë‹¤.`,
        currentBucketHighlight: hashIndex,
        insertedKey: null,
        insertPhase: 'hash_calc'
    });

    // 2ë‹¨ê³„: ë²„í‚·ì— ì‚½ì… ì‹œë„
    tempTable[hashIndex].push(key);
    chainingSimulationSteps.push({
        table: tempTable.map(bucket => [...bucket]),
        originalHash: hashIndex,
        key: key,
        message: `í•´ì‹œ ì£¼ì†Œ ${hashIndex}ì˜ ë²„í‚·ì— í‚¤ ${key} ì‚½ì… ì™„ë£Œ. (ì¶©ëŒ ì‹œ ì—°ê²° ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€)`,
        currentBucketHighlight: hashIndex,
        insertedKey: key,
        insertPhase: 'insert_complete'
    });
    chainingTable = tempTable.map(bucket => [...bucket]); // ìµœì¢… ìƒíƒœ ì—…ë°ì´íŠ¸

    renderChainingStep(currentChainingStep);
    document.getElementById('chainingPrevBtn').disabled = true;
    document.getElementById('chainingNextBtn').disabled = chainingSimulationSteps.length <= 1;
}

function renderChainingStep(step) {
    const buckets = document.querySelectorAll('#chainingTableContainer .hash-bucket');
    buckets.forEach(bucket => {
        bucket.innerHTML = `<span class="hash-bucket-index">[${bucket.dataset.index}]</span>`; // ë‚´ìš© ì´ˆê¸°í™”
        bucket.classList.remove('highlighted');
    });

    if (chainingSimulationSteps.length === 0) return;

    const currentStepData = chainingSimulationSteps[step];
    const messageDiv = document.getElementById('chainingSimulationMessage');
    messageDiv.textContent = currentStepData.message;

    // í…Œì´ë¸” ìƒíƒœ ë Œë”ë§
    currentStepData.table.forEach((bucketContent, index) => {
        const bucketEl = buckets[index];
        if (bucketContent.length > 0) {
            bucketContent.forEach(item => {
                const entry = document.createElement('div');
                entry.className = 'chain-node';
                entry.textContent = item;
                if (currentStepData.insertPhase === 'insert_complete' && item === currentStepData.insertedKey && index === currentStepData.originalHash) {
                    entry.classList.add('current-insert');
                }
                bucketEl.appendChild(entry);
            });
        }
    });

    // í˜„ì¬ ë²„í‚· í•˜ì´ë¼ì´íŠ¸
    if (currentStepData.currentBucketHighlight !== null && buckets[currentStepData.currentBucketHighlight]) {
        buckets[currentStepData.currentBucketHighlight].classList.add('highlighted');
    }

    document.getElementById('chainingPrevBtn').disabled = currentChainingStep === 0;
    document.getElementById('chainingNextBtn').disabled = currentChainingStep === chainingSimulationSteps.length - 1;
}

function nextChainingStep() {
    if (currentChainingStep < chainingSimulationSteps.length - 1) {
        currentChainingStep++;
        renderChainingStep(currentChainingStep);
    }
}

function prevChainingStep() {
    if (currentChainingStep > 0) {
        currentChainingStep--;
        renderChainingStep(currentChainingStep);
    }
}


// ---------- í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™” ----------
document.addEventListener('DOMContentLoaded', () => {
    initLinearSearchSimulation();
    initBinarySearchSimulation();
    initIndexSeqSimulation();
    initInterpolationSearchSimulation();
    initAvlSearchSimulation();
    initLinearProbingSimulation();
    initQuadraticProbingSimulation();
    initDoubleHashingSimulation();
    initChainingSimulation();
});
</script>

</body>
</html>
